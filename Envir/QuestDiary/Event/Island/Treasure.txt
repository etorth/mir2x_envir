;;Treasure.txt
[@Monkey]
{
#Define  N1{EVENT}    N1                             ;N1   0:ÀÌº¥Æ®Áß¾Æ´Ô, 1:ÀÌº¥Æ®Áß
#Define  N2{TIME}     N2                             ;N2   ½Ã°£
#Define  N3{OPEN}     N3                             ;N3   0:ÀÌº¥Æ®¸Ê ´İÈû, 1:ÀÌº¥Æ®¸Ê ¿­¸²
#Define  N4{FINISH}   N4                             ;N4   ÀÌº¥Æ® Á¾·á Ã¼Å©
#Define  N5{AI}       N5                             ;N5   ¸ó½ºÅÍ ÀÌµ¿ Å¸ÀÔ
#Define  N6{Reward}   N6                             ;N6   ÀÌº¥Æ® ¿Ï·áÈÄ, ÃÖÁ¾ º¸»óÀ» ¾ò±â À§ÇÑ ½Ã°£À» ÁÖ±â À§ÇÔ. 1=ÀÌº¥Æ® Á¾·á, 0=ÀÌº¥Æ® Á¾·áÈÄ 30ºĞ °æ°ú ÀÌº¥Æ® Àç½ÃÀÛ °¡´É
#Define  N8{GOLD}     N8                             ;N8   »ó±İ
#Define  N9{DropGold} N9                             ;N9   Áß°£»ó±İ

begin
	#IF
	   Equal  N1{EVENT}   0
	#ACT
		goto @Monkey_CheckMap
	#ELSESAY
	   #INCLUDE [..\Convert_Def\QuestDiary\Event\Island\Treasure.txt] @Event_Island_Treasure_Say_1

[@Monkey_CheckMap]
	begin
		#IF
		   Equal N6{Reward} 0
		#ACT
		   goto @Monkey_CheckMap_1
		#ELSESAY
		   #INCLUDE [..\Convert_Def\QuestDiary\Event\Island\Treasure.txt] @Event_Island_Treasure_Say_2
	end

[@Monkey_CheckMap_1]
	begin
		#IF
			checkitem Éú´æÓÎÏ·³¡µØµØÍ¼1 1
			checkitem Éú´æÓÎÏ·³¡µØµØÍ¼2 1
			checkitem Éú´æÓÎÏ·³¡µØµØÍ¼3 1
			checkitem Éú´æÓÎÏ·³¡µØµØÍ¼4 1
		#SAY
			#INCLUDE [..\Convert_Def\QuestDiary\Event\Island\Treasure.txt] @Event_Island_Treasure_Say_3
		#ELSESAY
			#INCLUDE [..\Convert_Def\QuestDiary\Event\Island\Treasure.txt] @Event_Island_Treasure_Say_4
	end

[@Start_Island]
	begin
		#ACT
			LoadValue P1 "Flag_Def\Event\Island\Gold.txt" "GOLD" "AddGold"

		#IF
			Small P1 1000000   ;; ÃÊ±â ±İ¾× 100¸¸À¸·Î
		#ACT
			Mov  N8{GOLD}      1000000   ;; ÃÊ±â ±İ¾× 100¸¸À¸·Î
		#ELSEACT
			Mov  N8{GOLD}      %P1

		#IF
			!Equal N1{EVENT}  1
		#ACT
			mov  N1{EVENT}    1                                    ; º¸¹°¼¶ ÀÌº¥Æ® ½ÃÀÛ
			mov  N2{TIME}     0                                    ; º¸¹°¼¶ ½Ã°£À» ÃÊ±âÈ­ ÇÔ
			mov  N3{OPEN}     1                                    ; º¸¹°¼¶ ÀÔ±¸¸¦ ¿­¾îÁÜ
			mov  N5{AI}       0                                    ; º¸¹°¼¶ ¸ó½ºÅÍ AI ¼¼ÆÃ
         mov  N4{FINISH}   0                                    ; ¿î¿µÀÚ°¡ Áß°£¿¡ Áß´ÜÀ» ÇßÀ» °æ¿ì
			mov  N9{DropGold} 0                                    ; º¸¹°¼¶ Áß°£ µ· ¼¼ÆÃ
			take Éú´æÓÎÏ·³¡µØµØÍ¼1 1
			take Éú´æÓÎÏ·³¡µØµØÍ¼2 1
			take Éú´æÓÎÏ·³¡µØµØÍ¼3 1
			take Éú´æÓÎÏ·³¡µØµØÍ¼4 1
			goto @UserSettingStartIsland
		#ELSESAY
			#INCLUDE [..\Convert_Def\QuestDiary\Event\Island\Treasure.txt] @Event_Island_Treasure_Say_5
	end

[@UserSettingStartIsland]
#IF
#ACT
	MonClear "Island02" "Ô³ºïÕ½Ê¿"                           ; ¸ğµç ¸ó½ºÅÍ »èÁ¦
	MonClear "Island02" "Ô³ºïÕ½½«"
	MonClear "Island02" "Ä§Éñ¹Ö1"
	MonClear "Island02" "¾Û±¦Ïä4"
	SendCmd  "Island02, 95, 135, 5"  Éú´æÓÎÏ·³¡ÃÀÃ¼  Hide      ; Å»Ãâ ¼Ò³à ¾ø¾Ú
	ResetMapAttr "Island02"                                ; ÀÌº¥Æ®¸Ê ¼Ó¼º(SetEventMap)±îÁö ÃÊ±âÈ­µÊ
	ClearItemMap "Island02, 100, 100, 9999" ½ğ±Ò             ; º¸¹°¼¶ ¸Ê¾È¿¡¸¦ ±ú²ıÇÏ°Ô
	ChangeMapAttr  "Island02" "NOCHAT"                     ; º¸¹°¼¶¿¡¼­´Â Ã¤ÆÃÀÌ ¾ÈµÇ°Ô ¸¸µë
	SetEventDamage Island02  5                             ; 5¹è µ¥¹ÌÁö
	SetEventMap  "Island02"                                ; new cmd ÀÌº¥Æ®¸ÊÀ¸·Î ¸¸µë (ResetEventMap)
	SendCmd  "Island02, 95, 135, 5"  Éú´æÓÎÏ·³¡ÃÀÃ¼  Hide
	LoadValue A0 [Convert_Def\QuestDiary\Event\Island\Treasure.txt] [Event_Island_Treasure_EventMsg] [Msg1]
	LineMsg  "Grobal"  %A0
	Mapting Island02 01 425 314                            ; º¸¹°¼¶ ¸Ê¿¡ ÀÖ´Â³Ñ ÆÃ±â±â
	Map     Island02                                       ; º¸¹°¼¶ ¸Ê¾ÈÀ¸·Î µé¾î°¡°Ô ÇÔ
	goto @GenMonkeys                                       ; ¸ó½ºÅÍ Á¨ °ü¸® ºÎºĞ
	goto @CheckFinishCondition                             ; º¸¹°¼¶ ÀÌº¥Æ® ÀüÃ¼ °ü¸® ºÎºĞ

[@ChallengeGoldenIsland]
	begin
		#IF
		#ACT
         LoadValue N7 "GM_Def\Event\Island\Gold.txt" "InputGold" "Gold"   ;; ÀÔÀå·á ¼¼ÆÃ ÇÏ´Â ºÎºĞ

		#IF
			!Equal N1{EVENT}  1
		#SAY
			#INCLUDE [..\Convert_Def\QuestDiary\Event\Island\Treasure.txt] @Event_Island_Treasure_Say_6
		#ACT
			break

		#IF
			Equal  N3{OPEN}  0
		#SAY
			#INCLUDE [..\Convert_Def\QuestDiary\Event\Island\Treasure.txt] @Event_Island_Treasure_Say_7
		#ACT
			break

		#IF
			CheckGold        %N7    ;;  ÀÔÀå·á Ã¼Å© ±¸¹®
		#ACT
			Take   ½ğ±Ò        %N7
			Inc    N8{GOLD}  %N7
			LoadValue A0 [Convert_Def\QuestDiary\Event\Island\Treasure.txt] [Event_Island_Treasure_EventMsg] [Msg2]
			LineMsg  "01,Island02" %A0
			Map   Island02
		#ELSESAY
   		#INCLUDE [..\Convert_Def\QuestDiary\Event\Island\Treasure.txt] @Event_Island_Treasure_Say_8
	end
end
}
